<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="project.com.hotplace.shop">
	<select id="SELECT_ALL" resultType="project.com.hotplace.shop.model.ShopVO">
		select * from shop where num between #{start} and #{end} order by num desc
	</select>
	  
	<select id="SELECT_ONE" resultType="project.com.hotplace.shop.model.ShopVO">
		select * from shop where
		<if test="searchKey == 'NAME'">
			name
		</if>
		<if test="searchKey == 'cate'">
			cate
		</if>
		like #{searchWord}
		where num between #{start} and #{end}
	</select>
	
	
	<select id="SEARCH_LIST" resultType="project.com.hotplace.shop.model.ShopVO">
		select * from shop where
		<if test="searchKey == 'NAME'">
			name
		</if>
		<if test="searchKey == 'cate'">
			cate
		</if>
		like #{searchWord}
		where num between #{start} and #{end}
	</select>
	
	<insert id="INSERT" parameterType="project.com.hotplace.shop.model.ShopVO">
		insert into shop(num,name,cate,tel) 
		values(sho_sequence.nextval,#{name},#{cate},#{tel})
	</insert>
	
	
	
	<update id="UPDATE" parameterType="project.com.hotplace.shop.model.ShopVO">
		update shop set name=#{name} , cate=#{cate} , 
		tel=#{tel}, loc_x=#{loc_x}, loc_y=#{loc_y}
		where num = #{num}
	</update>
	
	<delete id="DELETE">
		delete from shop where num = #{num}
	</delete>

</mapper>
